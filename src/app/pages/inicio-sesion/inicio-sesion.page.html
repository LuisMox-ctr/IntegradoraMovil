<ion-content [fullscreen]="true" class="login-bg">
  <div class="fog-overlay"></div>
  
  <div class="login-container">
    <!-- Logo del juego -->
    <div class="game-logo">
      <h1 class="game-title glitch" data-text="V MAGMA">V MAGMA</h1>
      <p class="subtitle">INFIERNO URBANO</p>
    </div>

    <!-- Formulario de Login -->
    <ion-card class="login-card">
      <ion-card-header>
        <ion-card-title class="card-title">INICIAR SESIÓN</ion-card-title>
      </ion-card-header>

      <ion-card-content>
        <!-- Email -->
        <ion-item class="input-item">
          <ion-icon name="mail-outline" slot="start"></ion-icon>
          <ion-input 
            [(ngModel)]="email" 
            type="email" 
            placeholder="Correo electrónico"
            [disabled]="loading">
          </ion-input>
        </ion-item>

        <!-- Contraseña -->
        <ion-item class="input-item">
          <ion-icon name="lock-closed-outline" slot="start"></ion-icon>
          <ion-input 
            [(ngModel)]="password" 
            [type]="showPassword ? 'text' : 'password'" 
            placeholder="Contraseña"
            [disabled]="loading">
          </ion-input>
          <ion-icon 
            [name]="showPassword ? 'eye-off-outline' : 'eye-outline'" 
            slot="end" 
            (click)="togglePassword()"
            class="toggle-password">
          </ion-icon>
        </ion-item>

        <!-- Mensaje de error -->
        <ion-text color="danger" *ngIf="error" class="error-message">
          <p>
            <ion-icon name="alert-circle-outline"></ion-icon>
            {{ error }}
          </p>
        </ion-text>

        <!-- Botón de login -->
        <ion-button 
          expand="block" 
          class="login-button" 
          (click)="iniciarSesion()" 
          [disabled]="loading || !email || !password">
          <ion-spinner *ngIf="loading" name="crescent"></ion-spinner>
          <span *ngIf="!loading">
            <ion-icon name="log-in-outline" slot="start"></ion-icon>
            ENTRAR AL JUEGO
          </span>
        </ion-button>

        <!-- Separador -->
        <div class="separator">
          <span>O</span>
        </div>

        <!-- Botón de registro -->
        <ion-button 
          expand="block" 
          fill="outline" 
          class="register-button" 
          (click)="irARegistro()"
          [disabled]="loading">
          <ion-icon name="person-add-outline" slot="start"></ion-icon>
          CREAR CUENTA
        </ion-button>

        <!-- Olvidé mi contraseña -->
        <div class="forgot-password">
          <ion-button fill="clear" size="small" (click)="recuperarPassword()">
            ¿Olvidaste tu contraseña?
          </ion-button>
        </div>
      </ion-card-content>
    </ion-card>

    <!-- Footer -->
    <div class="footer-text">
      <p>V Magma: Infierno Urbano © 2025</p>
    </div>
  </div>
</ion-content>